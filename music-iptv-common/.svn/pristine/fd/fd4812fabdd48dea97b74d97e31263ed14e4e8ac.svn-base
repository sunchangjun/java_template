<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="page-view-size" content="1280*720">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title></title>
	<style>
		.test{
			top:20px;
			color:red;
			background: transparent;
			font-size: 24px;
			font-weight: 700;
			z-index: 50;
			width: 100px;
			height: 30px;
			line-height: 30px;
			right: 30px;
			display: none;
			position:absolute;
		}

		.log{
			width: 1280px;
			top:20px;
			z-index: 25;
			height: 300px;
			position:absolute;
			color:white;
			background: black;
			display: none;
		}
		.submenu{
			height: 30px;
			display: inline-block;
			margin-left: 5px;
			margin-right: 5px;
			font-size: 22px;
		}
		.submenu_active{
			color: #00ff54;
		}
		.submenu_on{
			border-bottom: 2px solid #00ff54;
		}
	</style>
</head>
<body>
<div style="position:absolute; left:0px; top:0px; width:1280px; height:720px;background-image: url(images/bg.jpg); background-repeat:no-repeat; overflow:hidden;">
	<p id="test" class="test">测试版</p>
	<p id="log" class="log"></p>
	<img id="focusObj" src="images/singer_focus.png" style="position: absolute;left: 40px;top: 140px;z-index: 100;display: none;">
	<div  style="position: absolute; left: 0; top: 230px; width: 1280px; height: 392px;background:url(images/layer.png);z-index: 50;">
	</div>
    <div id="title" style="position: absolute; left: 62px; top: 53px; width: 522px; height: 50px; line-height: 50px; font-size: 25px; color: #fff;"></div>
	<div id="sub_menu" style="position: absolute; left: 37px; top: 120px; width: 1200px; height: 40px; line-height: 30px; font-size: 22px; color: rgb(222,222,223); text-align: center; overflow:hidden;">
		<table height="100%" border="0" cellpadding="0" cellspacing="0" style="width:auto; display:inline-table;">
			<tbody><tr>
				<td width="50" height="100%" style="background:url(images/004.png); background-repeat:no-repeat;">&nbsp;</td>
				<td id="sub_menu_chunk" style="background:url(images/005.png); width:auto;">
					<div class="submenu submenu_active submenu_on">热</div>
					<div class="submenu">A</div>
					<div class="submenu">B</div>
					<div class="submenu">C</div>
					<div class="submenu">D</div>
					<div class="submenu">E</div>
					<div class="submenu">F</div>
					<div class="submenu">G</div>
					<div class="submenu">H</div>
					<div class="submenu">I</div>
					<div class="submenu">J</div>
					<div class="submenu">K</div>
					<div class="submenu">L</div>
					<div class="submenu">M</div>
					<div class="submenu">N</div>
					<div class="submenu">O</div>
					<div class="submenu">P</div>
					<div class="submenu">Q</div>
					<div class="submenu">R</div>
					<div class="submenu">S</div>
					<div class="submenu">T</div>
					<div class="submenu">U</div>
					<div class="submenu">V</div>
					<div class="submenu">W</div>
					<div class="submenu">X</div>
					<div class="submenu">Y</div>
					<div class="submenu">Z</div>
					<div class="submenu">#</div>
				</td>
				<td width="50" style="background:url(images/006.png); background-repeat:no-repeat;">&nbsp;</td>
			</tr>
			</tbody></table>
	</div>

    <div id="list" style="position: absolute; left: 62px; top: 180px; width: 1175px; height: 435px; line-height: 60px; color: #fff; font-size: 23px;">
			<div id="list_sm" style="position: absolute; left: 0px; top: 50px; width: 1203px; height: 377px; display: block;">
				<div id="list_sm0" style="position: absolute; left: 0px; top: 0px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm0_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm0_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">陈鸿宇</div>
				</div>
				<div id="list_sm1" style="position: absolute; left: 195px; top: 0px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm1_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm1_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">以冬</div>
				</div>
				<div id="list_sm2" style="position: absolute; left: 390px; top: 0px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm2_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm2_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">罗励林</div>
				</div>
				<div id="list_sm3" style="position: absolute; left: 585px; top: 0px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm3_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm3_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">贺敬轩</div>
				</div>
				<div id="list_sm4" style="position: absolute; left: 780px; top: 0px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm4_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm4_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">二珂</div>
				</div>
				<div id="list_sm5" style="position: absolute; left: 975px; top: 0px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm5_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm5_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">白小白</div>
				</div>

				<div id="list_sm6" style="position: absolute; left: 0px; top: 195px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm6_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm6_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">房东的猫</div>
				</div>
				<div id="list_sm7" style="position: absolute; left: 195px; top: 195px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm7_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm7_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">许钧</div>
				</div>
				<div id="list_sm8" style="position: absolute; left: 390px; top: 195px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm8_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm8_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">苏运莹</div>
				</div>
				<div id="list_sm9" style="position: absolute; left: 585px; top: 195px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm9_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm9_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">立佳</div>
				</div>
				<div id="list_sm10" style="position: absolute; left: 780px; top: 195px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm10_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm10_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">艾福杰尼</div>
				</div>
				<div id="list_sm11" style="position: absolute; left: 975px; top: 195px; width: 140px; height: 140px;visibility: hidden;">
					<img id="list_sm11_img" src="" width="140" height="140" style="position:absolute; left:0px; top:0px;">
					<div style="position:absolute; left:0px; top:0px; width: 140px; height: 140px;background-image:url(images/007.png);"></div>
					<div id="list_sm11_text" style="position: absolute; top: 137px; width: 140px; height: 46px; overflow: hidden; line-height: 46px;text-align:center;font-size:20px;">杨洋</div>
				</div>
			</div>
        <div style="position: absolute; left: 513px; top: 480px; width: 110px; height: 18px; line-height: 18px; font-size: 18px; text-align:center;">
        	<div style=" position:absolute; left:0px; top:0px; width:10px; height:18px; background-image:url(images/083.png);"></div>
            <div id="page_num" style="position:absolute; left:20px; top:0px; width:88px; height:18px;">1/1</div>
        	<div style="position: absolute; left: 118px; top: 0px; width: 10px; height: 18px; background-image: url(images/081.png);"></div>
        </div>
  </div>

	<div id="no_song" style="position: absolute;top:350px;font-size: 30px;font-weight: 500;text-align: center;left: 0px;width: 100%;height: 40px;line-height: 40px;z-index: 100;color:#fff;display: none;">
           暂无歌手
	</div>
  <!--<div style="position: absolute; left: 0px; top: 581px; width: 1280px; height: 139px;">
    	<img id="gq_img" style="position: absolute; left: 65px; top: 20px; width: 88px; height: 88px;" src="images/test/test15.png" />
    	<div style="position: absolute; left: 0px; top: 1px; width: 1280px; height: 138px; background-image: url(images/022.png);"></div>
    	<div style="position: absolute; left: 0px; top: 0px; width: 1280px; height: 6px; background-image: url(images/054.png);">
       	  <div id="prop" style="position:absolute;left:0px;top:0px;"><img src="images/055.png" width="5" height="6" /><img id="prop_img" src="images/056.png" width="815" height="6" /><img src="images/057.png" width="5" height="6" /></div>
            <div id="prop_end" style="position: absolute; left: 817px; top: -8px; width: 26px; height: 26px; background-image: url(images/058.png);"></div>
        </div>
        
      <div style="position: absolute; left: 176px; top: 30px; width: 230px; height: 70px; line-height: 35px; font-size: 28px; color: #FFF;">任意门<br/><span style="font-size:22px;">五月天</span></div>
      
      <div style="position: absolute; left: 406px; top: 46px; width: 562px; height: 35px; line-height: 35px; font-size: 25px; color: #FFF; text-align: center;"><span style="color:#0FF;">我们曾走过无数地方</span>和无数岁月</div>
      
      <div style="position: absolute; left: 1013px; top: 14px; width: 207px; height: 35px; line-height: 35px; font-size: 22px; color: #FFF; text-align: right;"><span style="color:#0FF;">02:55</span>/04:28</div>
    </div>-->
    
  <!--<div id="test_new" style="position:absolute; left:50px; top:50px; width:1180px; height:100px; background-color:#FFF; color:#000; visibility:hidden;"></div>-->
</div>

<!--自适应焦点 begin-->
<!--自适应焦点 end-->


<div id="pop_up" style="position:absolute; left:0px; top:0px; width:1280px; height:720px; background-image:url(images/037.png); background-repeat:no-repeat; overflow:hidden; display:none; z-index:999;">
	<div id="pop_up_bg" style="position: absolute; left: 441px; top: 195px; width: 391px; height: 200px; background-image: url(images/038.png); color: #FFF; font-size: 23px; text-align: center; line-height: 30px; background-repeat: no-repeat;">
    	<table style="position: absolute; left: 15px; top: 8px; width: 361px; height: 120px;" cellpadding="0" cellspacing="0">
        	<tr>
            	<td id="pop_up_text" width="100%" height="100%" align="center">&nbsp;</td>
            </tr>
        </table>
      <div id="pop_up_btn0" style="position: absolute; left: 0px; top: 142px; width: 196px; height: 58px; line-height: 58px; font-size: 25px; background-image: url(images/tm.gif);"></div>
        <div id="pop_up_btn1" style="position: absolute; left: 195px; top: 142px; width: 196px; height: 58px; line-height: 58px; font-size: 25px; background-image: url(images/tm.gif);"></div>
        <div id="pop_up_btn2" style="position: absolute; left: 118px; top: 133px; width: 156px; height: 46px; line-height: 46px; font-size: 25px; background-image: url(images/040.png);"></div>
    </div>
</div>

<script type="text/javascript" src="js/function.js"></script>
<script type="text/javascript">
var topBtnObj = {
	pos : 0,
	size : 1,
	init : function() {
		
	},
	initCollectMS : function(_collect) {
		if(_collect) {
			$("top_btn"+oparateObj.btn_num +"0").style.backgroundImage = "url(images/089.png)";
			$("top_btn"+oparateObj.btn_num +"0_icon").style.backgroundImage = "url(images/090.png)";
		} else {
			$("top_btn"+oparateObj.btn_num +"0").style.backgroundImage = "url(images/087.png)";
			$("top_btn"+oparateObj.btn_num +"0_icon").style.backgroundImage = "url(images/088.png)";
		}
	},
	
	focusOn : function() {
		$("top_btn"+oparateObj.btn_num + this.pos + "_icon").style.visibility = "visible";
		$("top_btn"+oparateObj.btn_num + this.pos).style.visibility = "hidden";
	},
	
	focusOut : function() {
		$("top_btn"+oparateObj.btn_num + this.pos + "_icon").style.visibility = "hidden";
		$("top_btn"+oparateObj.btn_num + this.pos).style.visibility = "visible";
	},
	
	focusMove : function(_num) {
		var num = _num || 0;
		var pos = this.pos + num;
		if(pos >= 0 && pos < this.size) {
			this.focusOut(1);
			this.pos = pos;
			this.focusOn(1);
		}
	},
	
	doSelect : function() {
		if(0 == this.pos) {
			if("gd"== oparateObj.code){
				oparateGdCollect();
			}else if("play_record"==oparateObj.code){
// 				console.log("清空播放记录");
				ajaxForRemovePlayListAll();
			}else if("collect"==oparateObj.code){
// 				console.log("清空我喜欢");
				ajaxForRemoveAllCollect();
			}else{
				popUpObj.init("参数错误");	
			}
		}
	}
};

var listObj = {
	pos : 0,
	max_size : 12,
	get_flag : false, //表示是否在拿数据中
	cur_size : 0,
	size_line : 6,
	page_pos : 0,
	page_size : 1,
	data_cache:{},
	len : 0,
	focusObj : $("focusObj"),
	dataArray : [],
	init : function(_arr,total) {
		this.dataArray = _arr || this.dataArray;
		this.len = total
		this.page_size = Math.ceil(this.len / this.max_size);
		if(this.page_pos >= this.page_size) {
			this.page_pos = this.page_size - 1;
		}
		this.show();
	},
	show : function() {
	    $("list").style.display="block";
	    $("no_song").style.display="none";
		for(var i = 0; i < this.max_size; i++) {
			if(i < this.dataArray.length) {
				var obj = this.dataArray[i];
				$("list_sm" + i + "_text").innerHTML = obj.name;
				$("list_sm" + i + "_img").src = obj.bposter;
				$("list_sm" + i).style.visibility = "visible";
			} else {
				$("list_sm" + i).style.visibility = "hidden";
			}
		}
		$("page_num").innerHTML = oparateObj.curent_page + "&nbsp;/&nbsp;" + this.page_size;
		if(this.dataArray.length==0){
            $("list").style.display="none";
            $("no_song").style.display="block";
		}
	},
	time_out : 0,
	actor_time_out : 0,
	focusOn : function(_flag) {
	    this.showFocus();
       var position =   oparateObj.positionFocus[oparateObj.position];
       this.focusObj.style.top=position.top;
       this.focusObj.style.left=position.left;
	},
	showFocus:function(){
         this.focusObj.style.display="block";
    },
	hiddenFocus:function(){
         this.focusObj.style.display="none";
    },
	focusOut : function(_flag) {

	},
	focusMove : function(_num) {
		var num = _num || 0;
		var pos = this.pos + num;
		if(pos < 0) {
			this.changePage(-1);
		} else if(pos >= this.cur_size) {
			this.changePage(1);
		} else {
			this.focusOut(1);
			this.pos = pos;
			
			this.focusObj.style.left = 42 + 612 * Math.floor(this.pos / this.size_line) + "px";
			this.focusObj.style.top = 103 + 75 * (this.pos % this.size_line) + "px";
			this.focusOn(1);
		}
	},
	changePage : function(_num) {
		var num = _num || 0;
		var pos = this.page_pos + num;
		if(pos >= 0 && pos < this.page_size) {
			this.pos = 0;
			this.page_pos = pos;
			
			this.show();
			this.focusMove();
		}
	},
	
	doSelect : function() {
	    if(this.dataArray.length>0){
            var obj = this.dataArray[oparateObj.position];
            var backUrl = window.location.href.split("?")[0] + "?area=" + oparateObj.area + "&position=" + oparateObj.position
				+ "&keywords=" + menuBtnObj.keywords + "&rid=" + oparateObj.rid +
				"&name=" + Q.encode(oparateObj.title) + "&curent_page=" + oparateObj.curent_page
				+ "&backUrl=" + Q.encode(oparateObj.backUrl)+"&prid="+paramObj.prid+"&test="+ paramObj.test+"&wthxpath="+Q.encode(paramObj.wthxpath);
            //ajaxForAuth(obj.id,backUrl,)
// 		ajaxForAuth(obj.id, function(_rtsp, _runTime) {
// 			checkAndToPlay(_rtsp, _runTime, obj.id, obj.assetId, backUrl, obj.name || obj.title);
// 		}, function() {
// 			location.href = Q.getNewAddUrl("order.htm") + "backUrl=" + Q.encode(backUrl);
// 		});
            window.location.href = Q.getNewAddUrl("list.htm")+"backUrl="+Q.encode(backUrl)+"&rid="+obj.rid+"&name="
				+Q.encode(obj.name)+"&prid="+paramObj.prid+"&test="+ paramObj.test+"&code=gs"+"&wthxpath="+Q.encode(paramObj.wthxpath+"|"+obj.rid);
        }
	}
};

function ajaxForSingerList(rid){
    var data = oparateObj.data_cache[""+oparateObj.rid+menuBtnObj.keywords+oparateObj.curent_page+""];
    if(data){
        listObj.init(data,data.total);
        oparateObj.focusOn();
	}
    ajax({
        url: paramObj.serverUrl + "/stb/get_cate_content_list?rid="+oparateObj.rid+"&prid="+paramObj.prid+"&userId="
        + getCAcardNum()+"&test="+paramObj.test+"&pageSize=12"+"&pageIndex="+(oparateObj.curent_page-1)+"&pinyin="+menuBtnObj.keywords+"&wthxpath="+Q.encode(paramObj.wthxpath),// 请求的URL,可传参数
        type: "POST", //HTTP 请求类型,GET或POST
        dataType: "html", //请求的文件类型html/xml
        onSuccess: function(html){ //请求成功后执行[可选]
            var json = eval('('+html+')');
            oparateObj.data_cache[""+oparateObj.rid+menuBtnObj.keywords+oparateObj.curent_page+""] =json;
            if("0" == json.code) {
                    listObj.init(json.data,json.total);
                    oparateObj.focusOn();
            } else {

            }
        },
        onError:function(){ //请求失败后执行[可选]
            popUpObj.init("获取数据失败！");
        },
        onComplete:function(){// 请求成功.失败或完成(无论成功失败都会调用)时执行的函数[可选]
            // alert("onComplete");
        },
        post:"",
        timeout:7000  //请求的超时时间，默认7000ms，也可自行设定[可选]
    });
}

var menuBtnObj={
    keywords:"",
	btn_ele:[],
	index:0,
	btn_arr:["","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","#"],
	init:function(){
        this.btn_ele = $("sub_menu_chunk").getElementsByTagName("div");
        for(var i=0;i<this.btn_ele.length;i++){
            if(i==this.index){
                this.keywords = this.btn_arr[i];
/*            .submenu_active{
                    color: #00ff54;
                }
            .submenu_on{
                    border-bottom: 2px solid #00ff54;
                }*/
                this.btn_ele[i].style.color="#00ff54";
                break;
            }
        }
	},
    focusOn:function () {
		for(var i=0;i<this.btn_ele.length;i++){
           if(i==this.index){
               this.keywords = this.btn_arr[i];
             //  this.btn_ele[i].classList.add("submenu_active");
             //  this.btn_ele[i].classList.add("submenu_on");
               this.btn_ele[i].style.color="#00ff54";
               this.btn_ele[i].style.borderBottom="2px solid #00ff54;";
           }else{
               this.btn_ele[i].style.color="#fff";
               this.btn_ele[i].style.borderBottom="0px solid #00ff54;";
            //   this.btn_ele[i].classList.remove("submenu_active");
              // this.btn_ele[i].classList.remove("submenu_on");
		   }
		}
    },
    focusOut:function(){
        for(var i=0;i<this.btn_ele.length;i++){
            this.btn_ele[i].style.borderBottom="0px solid #00ff54;";
        }
	},
	focusmove:function(num){
        var index =  this.index + num;
        if(index>=0&&index<this.btn_ele.length){
               this.index = index;
               this.focusOn();
               this.keywords = this.btn_arr[index];
               oparateObj.curent_page = 1;
               ajaxForSingerList(oparateObj.rid);
		}
	}

}

var oparateObj = {
	area : 2,
	curent_page:1,
	position:0,
	pageSize:12,
    data_cache:{},
	positionFocus:[
		{"left":"32px","top":"200px"},{"left":"227px","top":"200px"},{"left":"422px","top":"200px"},{"left":"617px","top":"200px"},{"left":"812px","top":"200px"},{"left":"1007px","top":"200px"},
        {"left":"32px","top":"396px"},{"left":"227px","top":"396px"},{"left":"422px","top":"396px"},{"left":"617px","top":"396px"},{"left":"812px","top":"396px"},{"left":"1007px","top":"396px"},
	],
	rid : "",
	title : "",
	code : "",
	backUrl : "",
	btn_num:"",
	gd_status:"",
	type:"media",
	search:"",
	collect : false,
	init : function() {
		this.getParameter();
		topBtnObj.init();
        menuBtnObj.init();
		if(1 != this.area) {
			this.focusOn();
		}
		ajaxForSingerList(this.rid);
		dcHTMLToReciveServlet(this.backUrl.split("?")[0], window.location.href.split("?")[0], "qq_music_list");
	},
	
	getParameter : function() {
		var area = Q.getDecoded("area");
		if(null != area && "null" != area) {
			this.area = parseInt(area);
		}
		var position = Q.getDecoded("position");
		if(null != position && "null" != position) {
			this.position = parseInt(position);
		}
		var curent_page = Q.getDecoded("curent_page");
		if(null != curent_page && "null" != curent_page) {
			this.curent_page = parseInt(curent_page);
		}
		var rid = Q.getDecoded("rid");
		if(null != rid && "null" != rid) {
			this.rid = rid;
		}
		var code = Q.getDecoded("code");
		if(null != code && "null" != code) {
			this.code = code;
			if("gd" == code) {
				$("top_btn1").style.display = "block";
				this.btn_num = 1;
				this.type="gd";
			}else if("collect" == code||"play_record"==code){
				$("top_btn2").style.display = "block";
				this.btn_num = 2;
				if("collect" == code){
					this.type="collect";
				}else{
					this.type="play_record";
				}
			}else if("gs" == code){
				this.type="gs";
			}else if("top" == code){
				this.type="phb";
			}else {
				$("top_btn1").style.display = "none";
				$("top_btn2").style.display = "none";
			}
		}
		var name = Q.getDecoded("name");
		if(null != name && "null" != name) {
			this.title = name;
			$("title").innerHTML = name;
		}
		
		var backUrl = Q.getDecoded("backUrl");
		backUrl =  backUrl.replace("wthx1234","?");
		while(backUrl.indexOf("wthx5678")!=-1){
		   backUrl =  backUrl.replace("wthx5678","&");
		}
		if(null != backUrl && "null" != backUrl) {
			this.backUrl = backUrl;
		}
	},
	
	focusOn : function() {
		switch(this.area) {
			case 1 :
				//listObj.focusOn();
				//listObj.focusMove();
				break;
			case 2 :
				menuBtnObj.focusOut();
                listObj.focusOn();
				break;
			case 10 :
				popUpObj.focusOn();
				break;
		}
	},
	
	focusOut : function() {
		switch(this.area) {
			case 0 :
				
				break;
			case 1 :
				listObj.focusOut();
				break;
			case 2 :
				topBtnObj.focusOut();
				break;
			case 10 :
				popUpObj.focusOut();
				break;
		}
	},
	
	moveX : function(_num) {
		switch(this.area) {
			case 0 :
				break;
			case 1 :
				menuBtnObj.focusmove(_num);
				break;
			case 2 :
				if(_num>0){
                    //右移
					if(listObj.dataArray.length>6){
					    //两排，分两种情况（有下一页和没有下一页）
						if(listObj.dataArray.length<12||listObj.page_size==this.curent_page){
							//没有下一页
							if((this.position+1)%6==0||(this.position+1)%listObj.dataArray.length==0){
                               //什么都不做了 没有下一页
							}else{
                                this.position = this.position+1;
                                listObj.focusOn();
							}
						}else{
						    //有下一页
                            if((this.position+1)%6==0||(this.position+1)%listObj.dataArray.length==0){
                                //获取下一页数据
                                this.curent_page = this.curent_page+1;
                                this.position=0;
                                ajaxForSingerList(this.rid);
                            }else{
                                this.position = this.position+1;
                                listObj.focusOn();
                            }
						}
					}else{
                        //只有一排(肯定没有下一页)
						if(this.position<listObj.dataArray.length-1){
                            this.position = this.position+1;
                            listObj.focusOn();
                        }
					}
				}else{
				    if(this.position%6==0){
                       if(this.curent_page>1){
                           //上一页
                           this.curent_page = this.curent_page-1;
                           this.position=0;
                           ajaxForSingerList(this.rid);
					   }
					}else{
                        this.position = this.position-1;
                        listObj.focusOn();
					}
				}
				break;
			case 10 :
				popUpObj.focusMove(_num);
				break;
		}
	},
	
	moveY : function(_num) {
		switch(this.area) {
			case 0 :
				
				break;
			case 1 :
				if(_num>0) {
                    this.area = 2;
				    menuBtnObj.focusOut();
				    this.position=0;
				    listObj.focusOn();
				}
				break;
			case 2 :
			    if((this.position<6&&_num>0&&listObj.dataArray.length>6)){
                    this.position= this.position+6*_num;
                    if(this.position>=listObj.dataArray.length-1){
                        this.position = listObj.dataArray.length-1;
					}
                    listObj.focusOn();
				}else if(this.position>=6&&_num<0){
                    this.position= this.position-6;
                    listObj.focusOn();
				}else if(this.position<6&&_num<0){
			         this.area = 1;
                     listObj.hiddenFocus();
                     menuBtnObj.focusOn();
				}
				break;
			case 10 :
				
				break;
		}
	},
	
	changePage : function(_num) {
		if(1 == this.area) {
			listObj.changePage(_num);
		}
	},
	
	doSelect : function() {
		switch(this.area) {
			case 0 :
				break;
			case 1 :
				break;
			case 2 :
				listObj.doSelect();
				break;
			case 10 :
				break;
		}
	},
	
	doBack : function() {
		if(10 == this.area) {
			popUpObj.hidden();
		} else {
			location.href = oparateObj.backUrl;
		}
		location.href = oparateObj.backUrl;
	}
};

function init() {
    initglobalParam();
	checkAndInitPress(oparateObj.init);
	checkUserInfo(initPageInfo);
}


function initPageInfo(){
	oparateObj.init();
}

window.onload = init;


function initListData(_id, _code) {
	var code = _code || oparateObj.code;
	
	switch(code) {
		case "top":
			ajaxForSubcolumnsData(_id);
			break;
		case "gs":
			ajaxForSingerProgramData(_id);
			break;
		case "zt":
		case "gd":
			ajaxForTopicDetails(_id);
			break;
		case "collect":
			ajaxForLoadCollect();
			oparateObj.title = "我喜欢";
			$("title").innerHTML = oparateObj.title;
			break;
		case "play_record":
			ajaxForPalyList();
			oparateObj.title = "最近播放";
			$("title").innerHTML = oparateObj.title;
			break;
	}
}


function ajaxForLoadCollect() {
	ajax({
		url: paramObj.serverUrl + "loadCollect.do?userId=" + getCAcardNum()+"&wthxpath="+Q.encode(paramObj.wthxpath),// 请求的URL,可传参数
		type: "GET", //HTTP 请求类型,GET或POST
		dataType: "html", //请求的文件类型html/xml
		onSuccess: function(html){ //请求成功后执行[可选]
			var json = eval('('+html+')');
			if("0" == json.status) {
				if(json.list.length > 0) {
					listObj.init(json.list);
					oparateObj.focusOn();
				} else {
					popUpObj.doBack = oparateObj.doBack;
					popUpObj.doFuc = oparateObj.doBack;
					popUpObj.init("请收藏歌曲后再来查看！");
				}
			} else {
				
			}
		},
		onError:function(){ //请求失败后执行[可选]
			popUpObj.init("获取数据失败！");
		},
        onComplete:function(){// 请求成功.失败或完成(无论成功失败都会调用)时执行的函数[可选]
		   // alert("onComplete");	             			           		  
        },
        post:"", 
        timeout:7000  //请求的超时时间，默认7000ms，也可自行设定[可选]
	});
}

function ajaxForPalyList() {
	ajax({
		url: paramObj.serverUrl + "loadPlayList.do?userId=" + getCAcardNum()+"&wthxpath="+Q.encode(paramObj.wthxpath),// 请求的URL,可传参数
		type: "GET", //HTTP 请求类型,GET或POST
		dataType: "html", //请求的文件类型html/xml
		onSuccess: function(html){ //请求成功后执行[可选]
			var json = eval('('+html+')');
			if("0" == json.status) {
				if(json.list.length > 0) {
					listObj.init(json.list);
					oparateObj.focusOn();
				} else {
					popUpObj.doBack = oparateObj.doBack;
					popUpObj.doFuc = oparateObj.doBack;
					popUpObj.init("无播放记录！");
				}
			} else {
				
			}
		},
		onError:function(){ //请求失败后执行[可选]
			popUpObj.init("获取数据失败！");
		},
        onComplete:function(){// 请求成功.失败或完成(无论成功失败都会调用)时执行的函数[可选]
		   // alert("onComplete");	             			           		  
        },
        post:"", 
        timeout:7000  //请求的超时时间，默认7000ms，也可自行设定[可选]
	});
}
//清空播放列表
function ajaxForRemovePlayListAll() {
	ajax({
		url: paramObj.serverUrl + "removePlayListAll.do?userId=" + getCAcardNum()+"&wthxpath="+Q.encode(paramObj.wthxpath),// 请求的URL,可传参数
		type: "GET", //HTTP 请求类型,GET或POST
		dataType: "html", //请求的文件类型html/xml
		onSuccess: function(html){ //请求成功后执行[可选]
// 			ajaxForPalyList();
			popUpObj.doBack = oparateObj.doBack;
			popUpObj.doFuc = oparateObj.doBack;
			popUpObj.init("清空播放列表成功！");
		},
		onError:function(){ //请求失败后执行[可选]
			
		},
		onComplete:function(){// 请求成功.失败或完成(无论成功失败都会调用)时执行的函数[可选]
		   // alert("onComplete");	             			           		  
		},
		post:"", 
		timeout:7000  //请求的超时时间，默认7000ms，也可自行设定[可选]
	});
}
//清空收藏列表
function ajaxForRemoveAllCollect() {
	ajax({
		url: paramObj.serverUrl + "removeAllCollect.do?userId=" + getCAcardNum()+"&wthxpath="+Q.encode(paramObj.wthxpath),// 请求的URL,可传参数
		type: "GET", //HTTP 请求类型,GET或POST
		dataType: "html", //请求的文件类型html/xml
		onSuccess: function(html){ //请求成功后执行[可选]
// 			ajaxForLoadCollect();	
			popUpObj.doBack = oparateObj.doBack;
			popUpObj.doFuc = oparateObj.doBack;
			popUpObj.init("清空收藏列表成功，请重新收藏歌曲！");
		},
		onError:function(){ //请求失败后执行[可选]
			
		},
		onComplete:function(){// 请求成功.失败或完成(无论成功失败都会调用)时执行的函数[可选]
		   // alert("onComplete");	             			           		  
		},
		post:"", 
		timeout:7000  //请求的超时时间，默认7000ms，也可自行设定[可选]
	});
}

function oparateGdCollect() {
	if(oparateObj.collect) {
		ajaxForRemoveGdCollect(oparateObj.rid);
	} else {
		ajaxForAddGdCollect(oparateObj.rid);
	}
}

function ajaxForAddGdCollect(_id) {
	ajax({
		url: paramObj.serverUrl + "addGdCollect.do?userId=" + getCAcardNum() + "&id=" + _id+"&wthxpath="+Q.encode(paramObj.wthxpath),// 请求的URL,可传参数
		type: "GET", //HTTP 请求类型,GET或POST
		dataType: "html", //请求的文件类型html/xml
		onSuccess: function(html){ //请求成功后执行[可选]
			var json = eval('('+html+')');
			if("0" == json.status) {
				oparateObj.collect = true;
				topBtnObj.initCollectMS(oparateObj.collect);
				popUpObj.init("收藏成功！");
			} else {
				popUpObj.init(json.msg);
			}
		},
		onError:function(){ //请求失败后执行[可选]
			popUpObj.init("收藏失败！");
		},
        onComplete:function(){// 请求成功.失败或完成(无论成功失败都会调用)时执行的函数[可选]
		   // alert("onComplete");	             			           		  
        },
        post:"", 
        timeout:7000  //请求的超时时间，默认7000ms，也可自行设定[可选]
	});
}


function ajaxForRemoveGdCollect(_id) {
	ajax({
		url: paramObj.serverUrl + "removeGdCollect.do?userId=" + getCAcardNum() + "&id=" + _id+"&wthxpath="+Q.encode(paramObj.wthxpath),// 请求的URL,可传参数
		type: "GET", //HTTP 请求类型,GET或POST
		dataType: "html", //请求的文件类型html/xml
		onSuccess: function(html){ //请求成功后执行[可选]
			var json = eval('('+html+')');
			if("0" == json.status) {
				oparateObj.collect = false;
				topBtnObj.initCollectMS(oparateObj.collect);
				popUpObj.init("取消收藏成功！");
			} else {
				popUpObj.init(json.msg);
			}
		},
		onError:function(){ //请求失败后执行[可选]
			popUpObj.init("取消收藏失败！");
		},
        onComplete:function(){// 请求成功.失败或完成(无论成功失败都会调用)时执行的函数[可选]
		   // alert("onComplete");	             			           		  
        },
        post:"", 
        timeout:7000  //请求的超时时间，默认7000ms，也可自行设定[可选]
	});
}

function grabEvent(_event){
    var code = Event(_event);
    switch(code){
        case "KEY_UP": //
            oparateObj.moveY(-1);
            return false;
            break;
        case "KEY_DOWN": //
            oparateObj.moveY(1);
            return false;
            break;
        case "KEY_LEFT": //
            oparateObj.moveX(-1);
            return false;
            break;
        case "KEY_RIGHT": //
            oparateObj.moveX(1);
            return false;
            break;
        case "KEY_PAGE_UP": //
            oparateObj.changePage(-1);
            return false;
            break;
        case "KEY_PAGE_DOWN": //
            oparateObj.changePage(1);
            return false;
            break;
        case "KEY_SELECT": //
            oparateObj.doSelect();
            return false;
            break;
        case "KEY_EXIT":
        case "KEY_BACK":
            oparateObj.doBack();
            return false;
            break;
        case "KEY_NUMBER0":
            go_to_test_htm_str += "0";
            break;
        case "KEY_NUMBER2":
            go_to_test_htm_str += "2";
            break;
        case "KEY_NUMBER1":
            go_to_test_htm_str += "1";
            if(go_to_test_htm_str.indexOf("2201") > -1) {
                location.href = "go_to_test.htm";
            }
            break;
        default:
            break;
    }
};

</script>
</body>
</html>

